<div class="perfil-container">
  <h1>Mi Perfil</h1>
  <p class="subtitulo">Gestiona tu informaci贸n personal y configuraci贸n de cuenta</p>

  <div class="perfil-header">
    <div class="perfil-icono">
      <img [src]="datosUsuario.foto || 'assets/usuario.png'" alt="Foto de perfil" class="foto-perfil" />
    </div>
    <div class="perfil-info">
      <p>{{ datosUsuario.nombre }} {{ datosUsuario.apellidoPaterno }} {{ datosUsuario.apellidoMaterno }}</p>
      <p>{{ datosUsuario.correo }}</p>
      <span class="rol">Administrador Principal</span>
    </div>
  </div>

  <div class="perfil-form">
    <h3>Informaci贸n del Administrador</h3>
    <form>
      <label for="nombre">Nombre</label>
      <input [(ngModel)]="datosUsuario.nombre" name="nombre" [disabled]="!modoEdicion" />

      <label for="apellidoPaterno">Apellido Paterno</label>
      <input [(ngModel)]="datosUsuario.apellidoPaterno" name="apellidoPaterno" [disabled]="!modoEdicion" />

      <label for="apellidoMaterno">Apellido Materno</label>
      <input [(ngModel)]="datosUsuario.apellidoMaterno" name="apellidoMaterno" [disabled]="!modoEdicion" />

      <label for="correo">Correo Electr贸nico</label>
      <input [(ngModel)]="datosUsuario.correo" name="correo" [disabled]="!modoEdicion" />

      <label for="usuario">Nombre de Usuario</label>
      <input [(ngModel)]="datosUsuario.usuario" name="usuario" disabled />

      <label for="imagen">Imagen de Perfil</label>
      <input id="imagen" type="file" (change)="onFileSelected($event)" [disabled]="!modoEdicion" />

      <div class="botones-accion">
        <button type="button" (click)="toggleEdicion()">
          {{ modoEdicion ? 'Cancelar' : 'Editar Perfil' }}
        </button>
        <button *ngIf="modoEdicion" type="button" (click)="guardarCambios()">Guardar Cambios</button>
        <button type="button" class="btn-volver" (click)="volverAlChat()">Volver al Chat</button>
      </div>
    </form>
  </div>
</div>
